<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>speak up</title>
  <style media="screen">
  #keyboard{
    width: 400px;
    background-color: #ccc999;
  }
  ul{
    margin: 0 auto;;
    padding: 0;
    padding: 0 auto;
  }
  li{
    display: inline-block;
    list-style: none;
    width: 50px;
    height: 50px;
    margin: 10px;
    background-color: #ffffff;
    text-align: center;
    border-radius: 7px;
  }
  </style>
</head>
<body>
  <div id="keyboard">
  </div>


  <div class="music">
    <audio id="myAudio" src="./mp3/rehab.mp3" controls=""></audio>
  </div>

  <script type="text/javascript">
  // CLAVIER
  var alphabet = "abcdefghijklmnopqrstuvwxyz";
  function makeUL(alphabet) {
    var keyboard = document.getElementById('keyboard');
    var list = document.createElement('ul');
    keyboard.appendChild(list);
    Array.from(document.getElementsByTagName('ul'))[0].setAttribute('id', 'myList')
    for(var i = 0; i < alphabet.length; i++) {
      var item = document.createElement('li');
      item.appendChild(document.createTextNode(alphabet[i]));
      list.appendChild(item);
    };          //return list;
  };
  makeUL(alphabet);

  // DESIGN ECOUTER MUSIC AVEC OSCILOSCOPE
  window.onload = function() {
    var ctx = new AudioContext();
    var audio = document.getElementById('myAudio');
    var audioSrc = ctx.createMediaElementSource(audio);
    var analyser = ctx.createAnalyser();
    // we could configure the analyser: e.g. analyser.fftSize (for further infos read the spec)
    // frequencyBinCount tells you how many values you'll receive from the analyser
    var frequencyData = new Uint8Array(analyser.frequencyBinCount);
    // we're ready to receive some data!
    // loop
    function renderFrame() {
      requestAnimationFrame(renderFrame);
      // update data in frequencyData
      analyser.getByteFrequencyData(frequencyData);
      // render frame based on values in frequencyData
      // console.log(frequencyData)
    };
    audio.start();
    renderFrame();
  };

  </script>
</body>
</html>
